//>>built
require({cache:{"url:epi-cms/component/templates/Versions.html":"<div>\r\n    <div class=\"epi-versions\" data-dojo-type=\"epi-cms/component/Versions\" data-dojo-attach-point=\"versions\"></div>\r\n    <div class=\"epi-gadget-bottom-container dijitHidden\" data-dojo-attach-point=\"bottomLinkContainer\">\r\n        <a class=\"epi-visibleLink epi-versions-language-link\">${res.showalllanguages}</a>\r\n    </div>\r\n</div>\r\n"}});define("epi-cms/component/VersionsComponent",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/dom-class","dojo/when","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","epi/dependency","epi-cms/component/_ShowAllLanguagesMixin","epi-cms/component/Versions","dojo/text!./templates/Versions.html","epi/i18n!epi/cms/nls/episerver.cms.components.sitetree"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e){return _2([_7,_8,_9,_b],{templateString:_d,res:_e,postCreate:function(){this.inherited(arguments);_6(this.versions._isSiteMultilingual()).then(function(_f){if(!_f){return;}this.loadShowAllLanguages().then(function(_10){this.versions.set("showAllLanguages",_10);this._setShowAllLanguagesLinkVisibility(_10);}.bind(this));}.bind(this));this.own(this.versions.watch("showAllLanguages",function(){var _11=this.versions.get("showAllLanguages");if(this.showAllLanguages!==_11){this.saveShowAllLanguages(_11);}this.set("showAllLanguages",_11);this._setShowAllLanguagesLinkVisibility(_11);}.bind(this)));this.own(this.on(".epi-versions-language-link:click",function(){this.versions.set("showAllLanguages",true);}.bind(this)));},layout:function(){var cb=this._contentBox,ocb=this._oldContentBox;if(!cb){return;}if(!ocb||cb.w!==ocb.w||cb.h!==ocb.h){this._oldContentBox=cb;this._relayout();}},_relayout:function(){var _12=_5.contains(this.bottomLinkContainer,"dijitHidden")?0:_4.getMarginBox(this.bottomLinkContainer).h;_4.setMarginBox(this.versions.domNode,{w:this._contentBox.w,h:this._contentBox.h-_12});},_setShowAllLanguagesLinkVisibility:function(_13){_5.toggle(this.bottomLinkContainer,"dijitHidden",_13);if(!this._contentBox){return;}this._relayout();}});});