//>>built
define("epi-cms/widget/_DndStateMixin",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-class","epi/obsolete"],function(_1,_2,_3,_4,_5){return _1([],{baseDndStateClass:"epi-dropTarget",dndStateClass:null,dropTarget:null,_aspectAfterHandler:null,constructor:function(){_5("epi-cms/widget/_DndStateMixin","DnD state should be managed manually.");},postCreate:function(){this.inherited(arguments);this.subscribe("/dnd/start","_onDndStart");this.subscribe("/dnd/cancel","_onDndCancel");this.subscribe("/dnd/drop","_onDndDrop");if(this.dropTarget){this._aspectAfterHandler=_3.after(this.dropTarget,"onDndStart",_2.hitch(this,"_onAfterDndStart"));}},_getDndStateClassAttr:function(){var _6=this.canAccept()?"Enabled":"Disabled";this.dndStateClass=this.baseDndStateClass+_6;return this.dndStateClass;},canAccept:function(){return false;},_onDndStart:function(){if(!this.dropTarget){_4.add(this.domNode,this.get("DndStateClass"));}},_onAfterDndStart:function(){_4.add(this.domNode,this.get("DndStateClass"));},_onDndCancel:function(){_4.remove(this.domNode,this.dndStateClass);},_onDndDrop:function(){_4.remove(this.domNode,this.dndStateClass);},destroy:function(){this.inherited(arguments);if(this._aspectAfterHandler){this._aspectAfterHandler.remove();this._aspectAfterHandler=null;}}});});