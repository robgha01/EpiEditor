//>>built
define("epi-cms/widget/viewmodel/HyperLinkSelectorViewModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Stateful","dojo/io-query","dojo/dom-style","dojo/dom-construct","dojo/when","epi/string","epi/Url","epi/shell/TypeDescriptorManager","epi-cms/core/PermanentLinkHelper"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){return _2([_4],{_providersSetter:function(_d){var _e=[];_1.forEach(_d,_3.hitch(this,function(_f){_e.push({name:_f.name,displayName:_f.displayName?_f.displayName:_f.name,title:_f.title?_f.title:"",groupname:"hyperLink_",widgetType:_f.widgetType,invisible:_f.invisible,settings:_3.mixin({roots:_f.roots,allowedTypes:_f.linkableTypes,isContentLink:(_f.linkableTypes&&_f.linkableTypes.length>0),allowedDndTypes:[],disabled:true,value:null,searchArea:_f.searchArea},_f.widgetSettings)});}));this.set("wrapperSettings",_e);},getContentData:function(_10){if(_10){return _c.getContent(_10,{allLanguages:true});}return null;},isBaseTypeIdentifier:function(_11,_12){return _b.isBaseTypeIdentifier(_11,_12);},getPermanentLink:function(_13){return _c.getPermanentLink(_13);},getUrlValue:function(_14,_15,_16,_17){if(!_14){return "";}var url=new _a(_14);if(_17){var _18=new _a(_17);if(this._areEqual(_18,url)){url.query=_3.mixin(_18.query,url.query);}}if(_15===""){delete url.query.epslanguage;}else{url.query.epslanguage=_15;}if(_16){var _19=new _a(_16);if(_19.path){url.query["epsremainingpath"]=_19.path;}if(_19.fragment){url.fragment=_19.fragment;}Object.keys(_19.query).forEach(function(key){url.query[key]=_19.query[key];});}return url.toString();},getRemainingUrl:function(_1a){if(!_1a){return "";}var url=new _a(_1a);url.authority="";url.scheme="";delete url.query["epslanguage"];delete url.query["epieditmode"];if(url.query.epsremainingpath){url.path=url.query.epsremainingpath;}else{url.path="";}delete url.query["epsremainingpath"];return url.toString();},_areEqual:function(_1b,_1c){return _1b.scheme===_1c.scheme&&_1b.authority===_1c.authority&&_1b.path===_1c.path&&_1b.fragment===_1c.fragment;}});});