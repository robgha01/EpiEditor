//>>built
define("epi-cms/widget/ChangeView",["dojo/_base/declare","dojo/_base/array","dojo/dom-class","dojo/dom-style","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","epi-cms/widget/ViewSwitchButton","epi-cms/widget/ViewSelectorDropDownButton","epi/i18n!epi/cms/nls/episerver.cms.contentediting.toolbar.buttons"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _1([_5,_6,_7],{templateString:"<div class=\"dijitInline epi-trailingContainer\"></div>",buildRendering:function(){this.inherited(arguments);this._createViewSelector();this._createSwitchButton();},_createViewSelector:function(){this._viewSelectorDropDownButton=new _9({showLabel:false,"class":"epi-mediumButton"});this._viewSelectorDropDownButton.placeAt(this.domNode);},_createSwitchButton:function(){this._viewSwitchButton=new _8({firstButtonSettings:{title:_a.onpageedit.title,label:_a.onpageedit.label,iconClass:"epi-iconLayout",showLabel:false},secondButtonSettings:{title:_a.formedit.title,label:_a.formedit.label,iconClass:"epi-iconForms",showLabel:false}});this._viewSwitchButton.placeAt(this.domNode);},_setStateAttr:function(_b){this.inherited(arguments);this._viewSwitchButton.set("state",_b);},_setViewNameAttr:function(_c){var _d=_c==="onpageedit"||_c==="sidebysidecompare"||_c==="view"||_c==="allpropertiescompare";this._viewSwitchButton.set("isFirstButtonActive",_d);},_setCurrentContextAttr:function(_e){this._currentContext=_e;},_setViewConfigurationsAttr:function(_f){this._viewSelectorDropDownButton.set("viewConfigurations",_f);var _10=this._hasCustomViews(_f.availableViews);var _11=this._hasBuiltInViews(_f.availableViews);this._setVisibility(this._viewSwitchButton,!_10&&_11&&this._currentContext.hasTemplate);this._setVisibility(this._viewSelectorDropDownButton,_10);},_hasCustomViews:function(_12){return _2.filter(_12,function(_13){return !_13.hideFromViewMenu&&_13.key!=="onpageedit"&&_13.key!=="formedit";}).length;},_hasBuiltInViews:function(_14){return _2.filter(_14,function(_15){return _15.key==="onpageedit"||_15.key==="formedit";}).length===2;},_setVisibility:function(_16,_17){_4.set(_16.domNode,{display:(_17?"":"none")});_16.set("itemVisibility",_17);}});});