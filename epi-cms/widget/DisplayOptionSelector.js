//>>built
define("epi-cms/widget/DisplayOptionSelector",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/when","dijit/MenuSeparator","epi/shell/DestroyableByKey","epi-cms/widget/SelectorMenuBase","epi/i18n!epi/cms/nls/episerver.cms.contentediting.editors.contentarea.displayoptions","epi/shell/widget/RadioMenuItem"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2([_7,_6],{model:null,headingText:_8.title,_rdAutomatic:null,postCreate:function(){this.inherited(arguments);this.own(this._rdAutomatic=new _9({label:_8.automatic,value:""}));this.addChild(this._rdAutomatic);this.own(this._rdAutomatic.on("change",_3.hitch(this,this._restoreDefault)));},destroy:function(){this._removeMenuItems();this.inherited(arguments);},_restoreDefault:function(){this.model.modify(function(){this.model.set("displayOption",null);},this);},_setModelAttr:function(_a){this._set("model",_a);this._setup();},_setDisplayOptionsAttr:function(_b){this._set("displayOptions",_b);this._setup();},_setup:function(){if(!this.model||!this.displayOptions){return;}this._removeMenuItems();var _c=this.model.get("displayOption");_1.forEach(this.displayOptions,function(_d){var _e=new _9({label:_d.name,iconClass:_d.iconClass,displayOptionId:_d.id,checked:_c===_d.id,title:_d.description});this.ownByKey("items",_e.watch("checked",_3.hitch(this,function(_f,_10,_11){if(!_11){return;}this.model.modify(function(){this.model.set("displayOption",_d.id);},this);})));this.addChild(_e);},this);this._rdAutomatic.set("checked",!_c);},_removeMenuItems:function(){var _12=this.getChildren();this.destroyByKey("items");_12.forEach(function(_13){if(_13===this._rdAutomatic){return;}this.removeChild(_13);_13.destroy();},this);}});});