//>>built
define("epi-cms/widget/ViewSelector",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/when","dijit/MenuSeparator","epi/i18n!epi/cms/nls/episerver.cms.widget.viewselector","epi-cms/widget/SelectorMenuBase","epi/shell/widget/CheckedMenuItem"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2([_8],{viewConfigurations:null,headingText:_7.title,_setViewConfigurationsAttr:function(_a){this._set("viewConfigurations",_a);this._setup();},onExecute:function(){},onCancel:function(){},_setup:function(){if(!this.viewConfigurations){return;}this.getChildren().forEach(function(_b){this.removeChild(_b);_b.destroyRecursive();},this);var _c=this.viewConfigurations.viewName,_d=this.viewConfigurations.availableViews;var _e="";_1.forEach(_d,function(_f){if(_f.hideFromViewMenu){return;}var _10=_f.category||"";if(_10!==_e){this.addChild(new _6({baseClass:"epi-menuSeparator"}));}_e=_10;var _11=new _9({label:_f.name,title:_f.description,iconClass:_f.iconClass,checked:_f.key===_c});_11.own(_11.on("click",function(){this.onExecute();_11.set("checked",!_11.checked);if(_c==="view"){_4.publish("/epi/cms/action/disablepreview");}_4.publish("/epi/shell/action/changeview",_f.key,null,null,true);}.bind(this)));this.addChild(_11);},this);}});});