//>>built
define("epi-cms/asset/command/UploadContentToSelection",["dojo/_base/declare","epi/shell/command/_Command","epi/shell/command/_SelectionCommandMixin","epi/shell/DestroyableByKey","epi-cms/contentediting/ContentActionSupport","epi-cms/core/ContentReference","epi/shell/TypeDescriptorManager"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_2,_4,_3],{fileList:null,typeIdentifier:"episerver.core.contentfolder",createAsLocalAsset:false,_execute:function(){var _8=_6.toContentReference(this._getParentLink()).createVersionUnspecificReference();this.viewModel.upload(this.fileList,_8.toString(),this.createAsLocalAsset);this.fileList=null;},_getParentLink:function(){var _9=this._getSingleSelectionData();if(this.createAsLocalAsset){return _9.ownerContentLink?_9.ownerContentLink:_9.contentLink;}return _9.contentLink;},_onModelChange:function(){var _a=this._getSingleSelectionData(),_b=!!_a&&_5.hasProviderCapability(_a.providerCapabilityMask,_5.providerCapabilities.Create)&&_5.hasAccess(_a.accessMask,_5.accessLevel.Create),_c=_b&&_7.isBaseTypeIdentifier(_a?_a.typeIdentifier:"",this.typeIdentifier);this.set("isAvailable",_c);this.set("canExecute",!!(_b&&this.viewModel&&!this.viewModel.get("isSearching")));},_viewModelSetter:function(_d){this.viewModel=_d;this.destroyByKey("isSearchingWatch");this.viewModel&&this.ownByKey("isSearchingWatch",this.viewModel.watch("isSearching",this._onModelChange.bind(this)));}});});