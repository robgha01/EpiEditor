//>>built
define("epi-cms/dgrid/formatters",["dojo/_base/lang","dojo/dom-class","epi/datetime","epi/username","epi/string","epi/shell/dgrid/Formatter","epi/shell/dgrid/util/misc","epi/shell/TypeDescriptorManager","epi-cms/contentediting/ContentActionSupport","epi-cms/widget/viewmodel/ContentStatusViewModel","epi/i18n!epi/cms/nls/episerver.cms.components.versions","epi/i18n!epi/cms/nls/episerver.shared.header"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){var _d={defaultIconClass:"epi-iconObjectUnknown",thumbnail:function(_e){var _f="<image src=\"{0}?{1}\" class=\"epi-floatLeft epi-thumbnail\"/>";return _e?_1.replace(_f,[_e,new Date().getTime()]):"";},contentIcon:function(_10,_11){return _7.icon(_d.contentIconClass(_10,_11));},contentIconClass:function(_12,_13){var _14=_8.getValue(_12,"iconClass");var _15=_14+" epi-objectIcon";if(_13){_15+=" "+_13;}return _15;},contentTypeDescription:function(_16){return _8.getResourceValue(_16,"name",false);},languageBranch:function(_17){return _17?"<span class=\"epi-missingLanguageIndicator\">"+_17.language+"</span>":"";},menu:function(_18){return _1.replace("<span class=\"dijitInline dijitIcon epi-iconContextMenu epi-floatRight\" title=\"{title}\">&nbsp;</span>",_18);},path:function(_19){if(_19&&_19.length){var _1a=_7.attributeEncode(_19.join(" > "));_19=_5.truncateMiddle(_19,40,"â€¦");var _1b=_19.map(_7.htmlEncode).join("<span class=\"epi-breadCrumbsSeparator\">&gt;</span>");return _1.replace("<span class=\"dgrid-column-treePath dojoxEllipsis\" title=\"{title}\">{text}</span>",{title:_1a,text:_1b});}return "";},userName:function(_1c){return _4.toUserFriendlyHtml(_1c);},localizedDate:function(_1d){return _3.toUserFriendlyHtml(_1d);},friendlyBoolean:function(_1e){var _1f=_1e?"epi-iconCheckmark":"epi-iconStop";return "<div class=\""+_1f+"\" />";},versionStatus:function(_20){return _9.getVersionStatus(_20);},commonDraft:function(_21,_22,_23){if(_21.isCommonDraft){_23.innerHTML="<span class=\"dijitReset dijitInline dijitIcon epi-iconPrimary epi-floatRight\" title=\""+_b.primarydraft+"\"></span>";}_23.innerHTML+=_d.versionStatus(_22);},visibleLink:function(_24,_25){if(!_24){return "";}var _26=!_25?_7.htmlEncode(_24):_24;return "<span class=\"epi-visibleLink\">"+_26+"</span>";},secondaryText:function(_27,_28){if(!_27){return "";}var _29=!_28?_7.htmlEncode(_27):_27;return "<span class=\"epi-secondaryText\">"+_29+"</span>";},title:function(_2a,_2b,_2c){return _2a+", "+_c.id+": "+_2b+" ("+_c.type+": "+_2c+")";},contentItemFactory:function(_2d,_2e,_2f,_30,_31,_32,_33,_34){return function(_35,_36,_37,_38){var _39,_3a,_3b,_3c,_3d,_3e,_3f,_40;function get(_41){if(typeof _36.get==="function"){return _36.get(_41);}return _36[_41];};function _42(_43){if(_43){if(typeof _43==="function"){return _43(_36);}else{return get(_43);}}return _35;};_3e=typeof _35==="string";_3a=_42(_2f||(_3e?false:"typeIdentifier"));_3b=_42(_2d||(_3e?false:"text"));_3c=_42(_2e||(_3e?false:"title"));_3d=(_32&&_42(_32))||_36.missingLanguageBranch;_3f=_31&&_42(_31);_40=_34?_36.status:null;_39=_d.contentItem(_3a,_3d,_3b,_3c,_30,_3f,_33,_40);_37.innerHTML=_39;if(_37.nodeName!=="TD"&&_3d){_2.add(_37,"epi-ct-missingLanguageRow");}return _39;};},contentItem:function(_44,_45,_46,_47,_48,_49,_4a,_4b){var _4c=(_48&&_48.hasMenu)?_d.menu(_48.settings):"",_4d=_d.languageBranch(_45);_4a=(_4a===null||_4a===undefined)?true:_4a;_47=_4a?_7.attributeEncode(_47||_46):(_47||_46);_46=_4a?_7.htmlEncode(_46):_46;var _4e="";if(_4b){_4e=_d._statusIcon(_4b);}return (_49?_d.thumbnail(_49):_d.contentIcon(_44))+_4c+_4e+_4d+_7.ellipsis(_46,_47);},_statusIcon:function(_4f){if(_4f===_9.versionStatus.Published){return "";}var _50=new _a({contentStatus:_4f});var _51={cssClass:_50.statusIcon&&_50.statusIcon.join(" "),message:_50.statusMessage};return _1.replace("<span class=\"dijitIcon epi-statusIcon {cssClass}\" title=\"{message}\">&nbsp;</span>",_51);}};_6.addFormatter("contentIcon",_d.contentIcon);_6.addFormatter("userName",_d.userName);_6.addFormatter("versionStatus",_d.versionStatus);_6.addFormatter("localizedDate",_d.localizedDate);_6.addFormatter("contentItem",_d.contentItemFactory,true);return _d;});