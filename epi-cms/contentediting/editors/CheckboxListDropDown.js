//>>built
define("epi-cms/contentediting/editors/CheckboxListDropDown",["dojo/_base/declare","dojo/_base/lang","dojo/on","dojox/html/entities","epi/epi","epi/i18n!epi/nls/episerver.shared.action","./CheckboxList","dijit/form/_FormValueWidget","epi/shell/widget/DeferredDropDownButton","dijit/form/ToggleButton"],function(_1,_2,on,_3,_4,_5,_6,_7,_8){return _1([_8,_7],{value:null,store:null,sort:null,query:null,enableSelectAll:true,selectAllText:_5.selectall,header:_5.select,buildRendering:function(){this.own(this.dropDown=new _6({baseClass:"dijitMenu",header:this.header,enableSelectAll:this.enableSelectAll,selectAllText:this.selectAllText,onExecute:function(){}}),on(this.dropDown,"change",_2.hitch(this,function(e){this.set("value",e.value,true);}),true));this.inherited(arguments);},startup:function(){if(this._started){return;}this.inherited(arguments);this.dropDown.startup();if(this.enableSelectAll&&!this.value){this.set("value",null);}},compare:function(_9,_a){return _4.areEqual(_9,_a)?0:-1;},loadAndOpenDropDown:function(){var _b=arguments;var _c=this.dropDown.refresh();return _c.then(_2.hitch(this,function(){return this.inherited(_b);}));},isLoaded:function(){if(this.enableSelectAll){return false;}return this.inherited(arguments);},_getQueryAttr:function(){return this.query||{};},_setQueryAttr:function(_d){this._set("query",_d);if(this.dropDown){this.dropDown.set("query",_d);}},_setStoreAttr:function(_e){this._set("store",_e);if(this.dropDown){this.dropDown.set("store",_e);}},_setLabelAttr:function(_f){this.inherited(arguments,[_3.encode(_f||"")]);},_setValueAttr:function(_10,_11){!_11&&this.dropDown&&this.dropDown.set("selectedItems",_10);this.inherited(arguments);}});});