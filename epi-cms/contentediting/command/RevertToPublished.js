//>>built
define("epi-cms/contentediting/command/RevertToPublished",["dojo/_base/declare","dojo/_base/lang","epi-cms/contentediting/command/_ContentCommandBase","epi-cms/contentediting/ContentActionSupport","epi/i18n!epi/cms/nls/episerver.cms.contentediting.toolbar.buttons"],function(_1,_2,_3,_4,_5){return _1([_3],{name:"reverttopublished",tooltip:_5.reverttopublished.title,label:_5.reverttopublished.label,iconClass:"epi-iconRevert",_hasPendingChangeWatch:null,_execute:function(){this.model.revertToPublished();},_onModelChange:function(){this.inherited(arguments);var _6=this.model.contentData,_7=_6.status,_8=_4.versionStatus;var _9=_7===_8.CheckedOut||_7===_8.Rejected;this.set("isAvailable",_9);if(this._hasPendingChangeWatch){this._hasPendingChangeWatch.unwatch();}this._hasPendingChangeWatch=this.model.watch("hasPendingChanges",_2.hitch(this,function(_a,_b,_c){var _d=this._getCanExecute(_6,_8);this.set("canExecute",!_c&&_d);}));this.set("canExecute",_9&&this._getCanExecute(_6,_8));},_getCanExecute:function(_e,_f){var _10=_e.publishedBy!==null&&_e.publishedBy!==undefined;var _11=_e.status!==_f.Published;var _12=_e.status!==_f.Expired;var _13=this.model.canChangeContent(_4.action.Edit);var _14=_4.hasAccess(_e.accessMask,_4.accessLevel.Delete);return _10&&_11&&_12&&_13&&_14;}});});