//>>built
define("epi-cms/contentediting/commandproviders/PublishMenuGlobal",["dojo/_base/declare","epi/shell/command/withConfirmation","epi/shell/command/_CommandProviderMixin","epi/shell/DestroyableByKey","epi-cms/command/TranslateContent","epi-cms/contentediting/command/ForPublishMenu","epi-cms/contentediting/command/RevertToPublished","epi-cms/contentediting/command/SendForReview","epi-cms/contentediting/command/Publish","epi-cms/contentediting/command/CreateDraft","epi-cms/contentediting/command/EditCommonDraft","epi-cms/contentediting/command/Withdraw","epi-cms/contentediting/command/ScheduleForPublish","epi-cms/contentediting/command/CancelAndEdit","epi-cms/content-approval/command/AbortReview","epi-cms/content-approval/command/ApproveChanges","epi-cms/content-approval/command/CancelReview","epi-cms/content-approval/command/ForceCompleteApproval","epi-cms/content-approval/command/RejectChanges","epi-cms/content-approval/command/ReadyForReview","epi/i18n!epi/cms/nls/episerver.cms.contentediting.editactionpanel.publishactionmenu","epi/i18n!epi/nls/episerver.cms.contentapproval.command","epi/i18n!epi/nls/episerver.shell.resources.texts"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,res,_15,_16){return _1([_3,_4],{commandMap:null,constructor:function(){this.commandMap={abortreview:_6(_2(new _f(),null,{title:_15.abortreview.label,description:_15.abortreview.description,confirmActionText:_16.ok,cancelActionText:_16.cancel})),approvechanges:_6(new _10(),{isMain:true,priority:10000,mainButtonClass:"epi-success"}),cancelreview:_6(_2(new _11(),null,{title:_15.cancelreview.label,description:_15.cancelreview.description,confirmActionText:_15.cancelreview.ok,cancelActionText:_16.cancel})),forcecompleteapproval:_6(new _12()),publish:_6(new _9(),{resetLabelAfterExecution:true,isMain:true,priority:9000,mainButtonClass:"epi-success",keepMenuOpen:false,successStatus:res.successfullypublished}),readyforreview:_6(new _14(),{isMain:true,priority:10000,mainButtonClass:"epi-success"}),readytopublish:_6(new _8(),{isMain:true,priority:8000,mainButtonClass:"epi-success",keepMenuOpen:true}),rejectchanges:_6(new _13()),removescheduling:_6(new _e()),scheduleforpublish:_6(new _d()),withdraw:_6(new _c(),{resetLabelAfterExecution:false,keepMenuOpen:true})};this.commandMap.abortreview.order=0;this.commandMap.approvechanges.order=100;this.commandMap.forcecompleteapproval.order=200;this.commandMap.rejectchanges.order=300;this.commandMap.publish.order=400;this.commandMap.readyforreview.order=500;this.commandMap.readytopublish.order=600;this.commandMap.removescheduling.order=700;this.commandMap.scheduleforpublish.order=800;this.commandMap.cancelreview.order=900;this.commandMap.withdraw.order=1000;},updateCommandModel:function(_17){this.destroyByKey("builtinCommands");var _18=[];_17.contentData.transitions.forEach(function(_19){var _1a=this.commandMap[_19.name];if(_1a){_18.push(_1a);}},this);var _1b=new _5();_1b.order=1100;_18.push(_6(_1b,{isMain:true,priority:10000,mainButtonClass:"epi-primary"}));this.ownByKey("builtinCommands",_1b);var _1c=new _b();_1c.order=1200;_18.push(_6(_1c));this.ownByKey("builtinCommands",_1c);var _1d=new _a();_1d.order=1300;_18.push(_6(_1d));this.ownByKey("builtinCommands",_1d);var _1e=new _7();_1e.order=1400;_18.push(_6(_2(_1e,null,{title:res.reverttopublishconfirmation.dialogtitle,heading:res.reverttopublishconfirmation.confirmquestion,description:res.reverttopublishconfirmation.description})));this.ownByKey("builtinCommands",_1e);this.set("commands",_18);this.inherited(arguments);}});});