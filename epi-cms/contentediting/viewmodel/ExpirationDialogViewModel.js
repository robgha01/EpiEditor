//>>built
define("epi-cms/contentediting/viewmodel/ExpirationDialogViewModel",["dojo/_base/declare","dojo/Stateful","dojo/string","epi/epi","epi/datetime","epi/i18n!epi/cms/nls/episerver.cms.widget.expirationeditor","epi/i18n!epi/cms/nls/episerver.cms.contentediting.versionstatus"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_2],{value:null,intermediateValue:null,contentLink:null,contentName:null,enableSaveButton:null,showRemoveButton:null,infoText:null,state:null,postscript:function(){this.inherited(arguments);this.set("intermediateValue",this.value);this.set("minimumExpireDate",this.minimumExpireDate);},_intermediateValueSetter:function(_8){this.intermediateValue=_8;this.set("enableSaveButton",!_4.areEqual(this.intermediateValue,this.value));if(_8&&_8.stopPublish){var _9=_8.stopPublish instanceof Date?_8.stopPublish:new Date(_8.stopPublish);this.set("showRemoveButton",true);this.set("infoText",_9<_5.serverTime()?_7.expired:_3.substitute(_6.expiretimetext,[_5.timeToGo(_9)]));this.set("state","Expiring");}else{this.set("showRemoveButton",false);this.set("infoText",_6.neverexpiretext);this.set("state","NotExpiring");}},_valueSetter:function(_a){this.value=_a;this.set("enableSaveButton",false);},_minimumExpireDateSetter:function(_b){var _c=new Date(_b);this.minimumExpireDate=_5.isDateValid(_c)?_c:null;this.set("minimumExpireDateMessage",_6.minimumdatevalidation);},save:function(){this.set("value",this.intermediateValue);},reset:function(){this.set("intermediateValue",this.value);}});});