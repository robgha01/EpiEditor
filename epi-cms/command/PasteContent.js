//>>built
define("epi-cms/command/PasteContent",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/promise/all","dojo/when","epi","epi/shell/command/_Command","epi/shell/command/_ClipboardCommandMixin","epi/shell/command/_SelectionCommandMixin","epi/shell/TypeDescriptorManager"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _2([_7,_8,_9],{label:_6.resources.action.paste,iconClass:"epi-iconPaste",typeIdentifiers:null,createAsLocalAsset:false,_execute:function(){var _b=this.get("clipboardData"),_c=this._getSingleSelectionData();this.model.set("createAsLocalAsset",this.createAsLocalAsset);if(this.clipboard.copy){return this.model.copy(_b,_c);}else{return _5(this.model.move(_b,_c),_3.hitch(this,function(){this.clipboard.clear();}));}},_onModelChange:function(){var _d=this,_e=_d.model,_f=_d.get("clipboardData"),_10=_d._getSingleSelectionData();_d.set("canExecute",false);var _11=!!_10&&this._isTargetOfCorrectType(_10);this.set("isAvailable",_11);if(_e&&_f&&_f.length&&_10){var _12=_1.map(_f,function(_13){return _e.canPaste(_13.data,_10,_d.clipboard.copy);});_5(_4(_12),function(_14){var _15=_1.every(_14,function(_16){return _16;});if(_d.clipboard.copy){_d.set("canExecute",_15);return;}_e.getAncestors(_10,function(_17){var _18=_1.some(_f,function(_19){return _1.indexOf(_17,_19.data)>=0;});_d.set("canExecute",_15&&!_18);});});}},_isTargetOfCorrectType:function(_1a){if(!this.typeIdentifiers){return true;}return this.typeIdentifiers.some(function(_1b){return _a.isBaseTypeIdentifier(_1a?_1a.typeIdentifier:"",_1b);},this);}});});