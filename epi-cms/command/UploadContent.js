//>>built
define("epi-cms/command/UploadContent",["dojo/_base/declare","epi/shell/command/_Command","epi/shell/DestroyableByKey","epi-cms/contentediting/ContentActionSupport","epi-cms/core/ContentReference","epi/shell/TypeDescriptorManager"],function(_1,_2,_3,_4,_5,_6){return _1([_2,_3],{fileList:null,typeIdentifier:"episerver.core.contentfolder",createAsLocalAsset:false,_execute:function(){var _7=_5.toContentReference(this._getParentLink()).createVersionUnspecificReference();this.viewModel.upload(this.fileList,_7.toString(),this.createAsLocalAsset);this.fileList=null;},_getParentLink:function(){var _8=this._getModel();if(this.createAsLocalAsset){return _8.ownerContentLink?_8.ownerContentLink:_8.contentLink;}return _8.contentLink;},_onModelChange:function(){var _9=this._getModel(),_a=!!_9&&_4.hasProviderCapability(_9.providerCapabilityMask,_4.providerCapabilities.Create)&&_4.hasAccess(_9.accessMask,_4.accessLevel.Create),_b=_a&&_6.isBaseTypeIdentifier(_9?_9.typeIdentifier:"",this.typeIdentifier);this.destroyByKey("isSearchingWatch");this.viewModel&&this.ownByKey("isSearchingWatch",this.viewModel.watch("isSearching",this._onModelChange.bind(this)));this.set("isAvailable",_b);this.set("canExecute",!!(_a&&this.viewModel&&!this.viewModel.get("isSearching")));},_getModel:function(){return this.model instanceof Array?this.model.length===1?this.model[0]:null:this.model;}});});