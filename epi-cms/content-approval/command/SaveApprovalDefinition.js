//>>built
define("epi-cms/content-approval/command/SaveApprovalDefinition",["dojo/_base/declare","epi/i18n!epi/nls/episerver.shared.action","epi/shell/DialogService","epi/shell/command/_PropertyWatchCommand"],function(_1,_2,_3,_4){return _1([_4],{label:_2.save,isAvailable:true,canExecute:false,propertiesToWatch:["isDirty","isValid","isReadOnly"],_execute:function(){this.model.set("showValidations",true);var _5=this.model.validate();if(!_5){this.model.saveApprovalDefinition();return;}switch(_5.level){case "error":_3.alert(_5.dialog);break;case "warning":_3.confirmation(_5.dialog).then(function(){this.model.saveApprovalDefinition();}.bind(this));break;}},_onPropertyChanged:function(){this.set("isAvailable",!this.model.isReadOnly);this.set("canExecute",this.model.isDirty&&this.model.isValid);this.set("label",this.model.isDirty?_2.save:_2.saved);}});});