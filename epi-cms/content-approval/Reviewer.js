//>>built
require({cache:{"url:epi-cms/content-approval/templates/Reviewer.html":"<div class=\"epi-reviewer\">\r\n    <button class=\"epi-button--round epi-reviewer__remove-button\"\r\n            tabindex=\"-1\"\r\n            data-dojo-type=\"dijit/form/Button\"\r\n            type=\"button\">\r\n        <span class=\"dijitInline dijitIcon dijitReset epi-iconMinus epi-icon--inverted\"></span>\r\n    </button>\r\n    <span data-dojo-attach-point=\"selectedReviewerNode\">\r\n        <span data-dojo-attach-point=\"reviewerIcon\" class=\"dijitInline dijitIcon\"></span>\r\n        <span class=\"dijitInline epi-reviewer__name\" data-dojo-attach-point=\"userDisplayNameNode\"></span>\r\n    </span>\r\n    <span class=\"epi-reviewer__language-selector epi-chromeless epi-chromeless--icon-only epi-chromeless--with-arrow\"\r\n          data-dojo-attach-point=\"languageSelector\"\r\n          data-dojo-type=\"epi-cms/contentediting/editors/CheckboxListDropDown\"\r\n          data-dojo-props=\"iconClass: 'epi-iconWebsite', header: '${resources.selectlanguage}', selectAllText: '${resources.anylanguage}'\"></span>\r\n    <span class=\"dijitInline\" data-dojo-attach-point=\"languageSettingsNode\"></span>\r\n</div>\r\n"}});define("epi-cms/content-approval/Reviewer",["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/keys","dojo/store/Memory","dijit/_WidgetBase","dijit/Tooltip","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","epi/shell/widget/_ModelBindingMixin","./groupMembersListFormatter","./ApprovalEnums","dojo/text!./templates/Reviewer.html","epi/i18n!epi/nls/episerver.cms.contentapproval.reviewer","epi-cms/contentediting/editors/CheckboxListDropDown"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f){return _1([_7,_9,_a,_b],{model:null,modelBindingMap:{canApprove:["canApprove"]},templateString:_e,resources:_f,tooltip:null,postMixInProperties:function(){if(!this.model){throw new Error("An instance of ReviewerViewModel must be provided in order to create an Reviewer component.");}},buildRendering:function(){this.inherited(arguments);if(this.model.reviewerType===_d.reviewerType.role){this.own(this.tooltip=new _8({connectId:[this.selectedReviewerNode],label:this._formatMembersTooltipLabel(),position:["below-centered","above-centered"]}));}this.set("displayName",this.model.get("displayName"));var _10=new _6({idProperty:"value",data:this.languageOptions||[]});this.languageSelector.set("store",_10);if(this.model.languages){this.languageSelector.set("value",this.model.languages,false);}_2.toggle(this.languageSelector.domNode,"dijitHidden",!this.languageOptions);_2.add(this.reviewerIcon,this.model.get("icon"));this.own(this.on(".epi-reviewer__remove-button:click",this._removeReviewer.bind(this)),this.on("keydown",this._removeReviewer.bind(this)),this.languageSelector.on("change",function(_11){this.model.set("languages",_11);this._renderSelectedLanguages();}.bind(this)));this._renderSelectedLanguages();},_formatMembersTooltipLabel:function(){var _12=this.model.get("roleFirstUsersNames");if(!_12||_12.length===0){return _f.nogroupmembers;}var _13="<div class='epi-approval-group-tooltip'>"+_c.renderList(_12);var _14=this.model.get("numberOfOtherUsers");if(_14>0){_13+="<div>+"+_14+"</div>";}_13+="</div>";return _13;},_removeReviewer:function(evt){if(evt.type==="click"||evt.keyCode===_5.DELETE){evt.stopPropagation();this.emit("remove-reviewer",this.model);}},_renderSelectedLanguages:function(){_3.empty(this.languageSettingsNode);if(!this.languageOptions){return;}var _15=this;function _16(_17){var _18=_15.languageSelector.store.get(_17),_19="dijitInline epi-lozenge";if(!_18&&_15.model.languages.length>0){_19+=" epi-lozenge--inactive";}var _1a={innerHTML:_17,"class":_19,title:_18?_18.label:_17};_3.create("span",_1a,_15.languageSettingsNode);};if(this.model.languages){if(this.model.languages.length<1){_16(_f.alllanguages);return;}this.model.languages.forEach(_16);}},_setDisplayNameAttr:{node:"userDisplayNameNode",type:"innerHTML"},_setCanApproveAttr:function(_1b){this._set("canApprove",_1b);_4.set(this.domNode,"display",_1b?"":"none");}});});